<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TokenspÃ¥</title>
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%94%AE%3C/text%3E%3C/svg%3E"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="page">
      <header class="header">
        <div class="header-top">
          <div>
            <h1 data-i18n="title">TokenspÃ¥ ğŸ”®</h1>
            <p data-i18n="subtitle">
              Skriv inn ei setning. Trykk mellomrom for Ã¥ vise sannsyn for neste token.
            </p>
          </div>
          <div class="lang-toggle" role="group" aria-label="Vel sprÃ¥k">
            <button id="lang-nn" class="lang-pill active" type="button">ğŸ‡³ğŸ‡´</button>
            <button id="lang-en" class="lang-pill" type="button">ğŸ‡¬ğŸ‡§</button>
          </div>
        </div>
        <div class="tabs">
          <button id="tab-token" class="tab active" data-i18n="tab_token">Token</button>
          <button id="tab-temp" class="tab" data-i18n="tab_temp">Temperatur</button>
        </div>
        <details class="advanced" id="advanced-controls">
          <summary data-i18n="advanced_label">Avanserte kontrollar</summary>
          <div class="slider-row">
            <label for="top-p" class="slider-label">top_p</label>
            <input id="top-p" type="range" min="0.1" max="1" step="0.05" value="0.9" />
            <span id="top-p-value" class="slider-value">0.90</span>
            <span class="info-wrap">
              <button
                id="top-p-info"
                class="info-btn"
                type="button"
                aria-label="Kva betyr top_p?"
              >
                i
              </button>
              <div id="top-p-pop" class="popover" role="dialog" aria-hidden="true">
                top_p avgrensar val til dei mest sannsynlege tokena. LÃ¥gare = tryggare,
                hÃ¸gare = meir tilfeldig.
              </div>
            </span>
          </div>
          <div class="slider-row">
            <label for="top-k" class="slider-label">top_k</label>
            <input id="top-k" type="range" min="3" max="15" step="1" value="5" />
            <span id="top-k-value" class="slider-value">5</span>
            <span class="info-wrap">
              <button
                id="top-k-info"
                class="info-btn"
                type="button"
                aria-label="Kva betyr top_k?"
              >
                i
              </button>
              <div id="top-k-pop" class="popover" role="dialog" aria-hidden="true">
                top_k styrer kor mange av dei mest sannsynlege tokena som blir viste.
              </div>
            </span>
          </div>
          <div class="slider-row">
            <label for="step-tokens" class="slider-label" data-i18n="step_tokens_label">Token per steg</label>
            <input id="step-tokens" type="range" min="1" max="5" step="1" value="1" />
            <span id="step-tokens-value" class="slider-value">1</span>
            <span class="info-wrap">
              <button
                id="step-tokens-info"
                class="info-btn"
                type="button"
                aria-label="Kva betyr token per steg?"
              >
                i
              </button>
              <div id="step-tokens-pop" class="popover" role="dialog" aria-hidden="true">
                Styrer kor mange token som blir henta per steg i temperaturâ€‘fana.
              </div>
            </span>
          </div>
        </details>
      </header>

      <section id="view-token" class="view">
        <section class="card">
          <label for="prompt" class="label" data-i18n="label_text">Tekst</label>
          <textarea
            id="prompt"
            class="prompt"
            rows="4"
            placeholder="Skriv noko..."
            data-i18n-placeholder="placeholder_text"
          ></textarea>
          <div class="controls">
            <button id="start" class="btn" data-i18n="btn_start">Start</button>
            <button id="restart" class="btn ghost" data-i18n="btn_restart">Start pÃ¥ nytt</button>
            <button id="predict" class="btn ghost" data-i18n="btn_show_next">Vis neste token</button>
            <span id="status" class="status"></span>
          </div>
        </section>

        <section class="card">
          <h2 data-i18n="next_tokens">Neste token</h2>
          <div id="chart" class="chart"></div>
          <div id="empty" class="empty" data-i18n="no_predictions">Ingen spÃ¥domar enno.</div>
        </section>
      </section>

      <section id="view-temp" class="view hidden">
        <section class="card">
          <label for="temp-prompt" class="label" data-i18n="label_text">Tekst</label>
          <textarea
            id="temp-prompt"
            class="prompt"
            rows="4"
            placeholder="Skriv noko..."
            data-i18n-placeholder="placeholder_text"
          ></textarea>
          <div class="controls">
            <button id="temp-start" class="btn" data-i18n="btn_start">Start</button>
            <button id="temp-restart" class="btn ghost" data-i18n="btn_restart">Start pÃ¥ nytt</button>
            <button id="temp-next" class="btn ghost" data-i18n="btn_next_token">Neste token</button>
            <span id="temp-status" class="status"></span>
          </div>
          <div class="controls">
            <label class="mini">
              <span data-i18n="field_count">Tal pÃ¥ felt</span>
              <input id="temp-count" type="number" min="2" max="8" value="5" />
            </label>
            <button id="temp-apply" class="btn ghost" data-i18n="btn_update_fields">Oppdater felt</button>
          </div>
        </section>

        <section class="card">
          <h2 data-i18n="temp_header">Ulike temperaturar</h2>
          <div id="temp-grid" class="temp-grid"></div>
        </section>
      </section>
      <footer class="footer">
        <a
          class="footer-link"
          href="https://github.com/lektorodd/token-prediktor-app"
          target="_blank"
          rel="noreferrer"
        >
          <span class="github-mark" aria-hidden="true">
            <svg viewBox="0 0 16 16" width="18" height="18" fill="currentColor">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8Z"></path>
            </svg>
          </span>
          <span class="footer-brand">lektorodd</span>
        </a>
      </footer>
    </main>

    <script type="module" src="app.js"></script>
  </body>
</html>
